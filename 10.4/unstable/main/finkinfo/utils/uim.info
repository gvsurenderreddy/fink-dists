Package: uim
Version: 1.0.1
Revision: 1003
Depends: <<
  %N-shlibs (=%v-%r), x11, gtk+2 (>= 2.12.0-1), glib2-shlibs (>= 2.14.0-1),
  pango1-xft2-ft219-shlibs (>= 1.18.2-1), atk1-shlibs (>= 1.20.0-1), libgettext3-shlibs, libiconv,
  libncurses5-shlibs
<<
BuildDepends: <<
  glitz, expat1, libpng3, cairo (>= 1.2-1), fontconfig2-dev (>= 2.4.1-1), freetype219 (>= 2.3.5-1),
  xft2-dev, x11-dev, gtk+2-dev (>= 2.12.0-1), glib2-dev (>= 2.14.0-1), pango1-xft2-ft219-dev (>= 1.18.2-1),
  atk1 (>= 1.20.0-1), libgettext3-dev, libiconv-dev, libncurses5,
  intltool (>= 0.36.0-1), pkgconfig (>= 0.21-1), gettext-bin, gettext-tools
<<
BuildConflicts: freetype
Recommends: skk-dict, prime, canna-server
Source: http://uim.freedesktop.org/releases/%n-%v.tar.gz
Source-MD5: 1de96cb9ca0c570c0d04678a95f9c75a
GCC: 4.0
SetCPPFLAGS: -I%p/lib/pango-ft219/include/pango-1.0 -I%p/lib/pango-ft219/include -I%p/lib/freetype219/include/freetype2 -I%p/lib/freetype219/include -I%p/lib/fontconfig2/include
NoSetLDFLAGS: true
SetLDFLAGS: -L%p/lib/pango-ft219/lib -L%p/lib/freetype219/lib -L%p/lib/fontconfig2/lib
SetLIBS: -L%p/lib -L/usr/X11R6/lib -lX11
SetCFLAGS: -Os -pipe
ConfigureParams: <<
  --mandir=%p/share/man \
  --libexecdir=%p/lib/%n \
  --disable-emacs \
  --without-scim \
  --without-anthy \
  --without-m17nlib \
  --without-canna \
  --without-mana \
  --without-prime \
  --with-x \
  --with-xft \
  --with-gtk2 \
  --without-gnome2 \
  --without-qt \
  --without-qt-immodule \
  --without-eb \
  --without-libedit \
  --disable-dependency-tracking \
  PKG_CONFIG_PATH="%p/lib/pango-ft219/lib/pkgconfig:%p/lib/fontconfig2/lib/pkgconfig:%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH" FREETYPE_CONFIG=%p/lib/freetype219/bin/freetype-config
<<
InstallScript: make -j1 install DESTDIR=%d

PostInstScript: <<
if [ configure = "$1" ]; then
    %p/sbin/update-gtk-immodules
fi
<<
PostRmScript: <<
if [ upgrade != "$1" ]; then
    %p/sbin/update-gtk-immodules
fi
<<

SplitOff: <<
Package: %N-shlibs
Replaces: %N (<< 0.4.6-6)
Depends: libgettext3-shlibs, libiconv
Files: <<
  lib/libuim{,-custom}.*.dylib
  share/locale
<<
Shlibs: <<
  %p/lib/libuim-custom.0.dylib 2.0.0 %n (>= 1.0.1-1)
  %p/lib/libuim.0.dylib 2.0.0 %n (>= 1.0.1-1)
<<
DocFiles: AUTHORS COPYING ChangeLog INSTALL* NEWS README*
<<

SplitOff2: <<
Package: %N-dev
Replaces: %N (<< 0.4.6-6)
Depends: %N-shlibs (= %v-%r)
Files: <<
  include
  lib/libuim{,-custom}.*a lib/libuim{,-custom}.dylib
  lib/pkgconfig
  lib/gtk-2.0/2.10.0/immodules/*.*a
  lib/uim/plugin/*.*a
<<
BuildDependsOnly: true
DocFiles: AUTHORS COPYING ChangeLog INSTALL* NEWS README*
<<

DocFiles: AUTHORS COPYING ChangeLog INSTALL* NEWS README*
Description: Light-weight, full-featured input method lib
DescDetail: <<
UIM is a light weight and full featured input method library.

Most of the functionalites in this library are implemented
with Scheme. Thus it is simple, secure and flexible.
<<
License: BSD
Maintainer: Todai Fink Team <fink@sodan.ecc.u-tokyo.ac.jp>
