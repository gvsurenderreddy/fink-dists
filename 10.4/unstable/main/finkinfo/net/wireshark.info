Package: wireshark
Version: 0.99.3a
Revision: 1012
Maintainer: Max Horn <max@quendi.de>
BuildDepends: <<
  cairo (>= 1.2-1),
  fontconfig2-dev (>= 2.3.2-13),
  freetype219,
  xft2-dev,
  pkgconfig (>= 0.21-1),
  libpcap,
  pcre,
  atk1 (>= 1.12.3-1),
  glib2-dev (>= 2.12.0-1),
  pango1-xft2-ft219-dev (>= 1.14.9-1),
  gtk+2-dev (>= 2.10.0-1),
  libgettext3-dev,
  gettext-bin,
  gettext-tools,
  libiconv-dev
<<
Depends: <<
  libpcap-shlibs,
  pcre-shlibs,
  gtk+2 (>= 2.10.0-1),
  glib2-shlibs (>= 2.12.0-1),
  pango1-xft2-ft219 (>= 1.14.9-1),
  libgettext3-shlibs
<<
Conflicts: wireshark-ssl, ethereal, ethereal-ssl
Replaces: wireshark-ssl, ethereal, ethereal-ssl
Source: mirror:sourceforge:wireshark/wireshark-%v.tar.bz2
Source-MD5: 3eca72f5875204e25552bb3dabfec115
Patch: %n.patch
ConfigureParams: <<
  --mandir=%p/share/man \
  --without-net-snmp \
  --without-ucd-snmp \
  --without-adns \
  --without-lua \
  --disable-usr-local \
  --enable-gtk2 \
  --disable-dependency-tracking \
  --without-ssl \
  PKG_CONFIG_PATH="%p/lib/pango-ft219/lib/pkgconfig:%p/lib/fontconfig2/lib/pkgconfig:%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH"
<<
InstallScript: make install DESTDIR=%d
DocFiles: AUTHORS COPYING NEWS README*
Description: Powerful network protocol analyzer
DescDetail: <<
Wireshark is a free network protocol analyzer for Unix and Windows.
It allows you to examine data from a live network or from a capture
file on disk. You can interactively browse the capture data, viewing
summary and detail information for each packet. Wireshark has several
powerful features, including a rich display filter language and the
ability to view the reconstructed stream of a TCP session.
<<
DescPackaging: <<
Although this package is license under the GPL, the -SSL variant is
marked Restrictive since it links to OpenSSL.

PATCH: A patch is used to force gnutls and libgcrypt checks to always
fail for the non-SSL variant of this package.

PATCH: Building idl2wrs is broken in the base package, we fix this.

PATCH: Modify PLUGIN_LIBS to ensure that we link against the freshly
built (but not yet installed) version of libwireshark, instead of
linking to a previously installed version of it.

Might eventually link against and depend on the adns and lua packages.
Since adns and lua are not in stable, I am not (yet) doing this.
<<
Homepage: http://www.wireshark.org
License: GPL
