Package: librarian.0-shlibs
Version: 0.6.0
Revision: 1001

Source: http://rarian.freedesktop.org/Releases/rarian-%v.tar.bz2
Source-MD5: 23772a3b0f882d13c86dd9fa67bb21bf

Depends: xdg-base
GCC: 4.0

ConfigureParams: --disable-dependency-tracking --disable-skdb-update --libdir=%p/lib/librarian.0

InstallScript: <<
	make install DESTDIR=%d

	mv %i/lib/librarian.0/pkgconfig %i/lib
	perl -pi -e 's,libdir=.*,libdir=%p/lib,' %i/lib/pkgconfig/rarian.pc
	ln -s librarian.0/librarian.{a,dylib,la} %i/lib
<<
DocFiles: AUTHORS COPYING* ChangeLog NEWS README TODO

Shlibs: %p/lib/librarian.0/librarian.0.dylib 1.0.0 %n (>= 0.5.6-1)

SplitOff: <<
	Package: librarian.0-dev
	Depends: %N (= %v-%r), rarian (= %v-%r)
	BuildDependsOnly: true
	Files: <<
		include
		lib/librarian.{a,dylib,la}
		lib/librarian.0/librarian.{a,dylib,la}
		lib/pkgconfig
		share/help
		share/librarian/manual
	<<
	DocFiles: AUTHORS COPYING* ChangeLog NEWS README TODO
<<
SplitOff2: <<
	Package: rarian-compat
	Depends: rarian (= %v-%r)
	Replaces: scrollkeeper
	Files: bin/scrollkeeper*
	DocFiles: AUTHORS COPYING* ChangeLog NEWS README TODO
	DescUsage: <<
		This package reimplements the old "scrollkeeper"
		package using rarian.
	<<
<<
SplitOff3: <<
	Package: rarian
	Depends: %N (= %v-%r), libxslt-bin
	Files: <<
		bin
		share/librarian
	<<
	DocFiles: AUTHORS COPYING* ChangeLog NEWS README TODO
<<

DescPackaging: <<
	Upstream doesn't understand API versioning. Fake a fink idea
	of libversion by placing it in a subdir and link it back from
	lib/ so other packages won't have to worry about this mess.
	See: https://bugs.freedesktop.org/show_bug.cgi?id=11988
<<
Description: Helpfile/documentation system
License: GPL
Homepage: http://rarian.freedesktop.org
Maintainer: Daniel Macks <dmacks@netspace.org>
