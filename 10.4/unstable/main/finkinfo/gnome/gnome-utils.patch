diff -uNr gnome-utils-2.16.2/baobab/src/baobab.c gnome-utils-2.16.2-new/baobab/src/baobab.c
--- gnome-utils-2.16.2/baobab/src/baobab.c	2006-08-27 07:10:39.000000000 -0400
+++ gnome-utils-2.16.2-new/baobab/src/baobab.c	2006-12-24 15:34:13.000000000 -0500
@@ -22,6 +22,8 @@
  
 #include <config.h>
 
+#define BAOBAB_SKIP_EXTERNALS 1
+
 #include <pwd.h>
 #include <time.h>
 #include <gtk/gtk.h>
@@ -36,6 +38,11 @@
 #include <glibtop.h>
 
 #include "baobab.h"
+
+baobab_application baobab;
+baobab_fs g_fs;
+struct BaobabSearchOpt bbSearchOpt;
+
 #include "baobab-scan.h"
 #include "baobab-treeview.h"
 #include "baobab-utils.h"
diff -uNr gnome-utils-2.16.2/baobab/src/baobab.h gnome-utils-2.16.2-new/baobab/src/baobab.h
--- gnome-utils-2.16.2/baobab/src/baobab.h	2006-08-16 21:02:01.000000000 -0400
+++ gnome-utils-2.16.2-new/baobab/src/baobab.h	2006-12-24 15:26:27.000000000 -0500
@@ -117,10 +117,11 @@
 	gboolean search_whole;
 };
 
-/* globals */
-baobab_application baobab;
-baobab_fs g_fs;
-struct BaobabSearchOpt bbSearchOpt;
+#ifndef BAOBAB_SKIP_EXTERNALS
+extern baobab_application baobab;
+extern baobab_fs g_fs;
+extern struct BaobabSearchOpt bbSearchOpt;
+#endif
 
 void set_busy (gboolean busy);
 void start_proc_on_dir (const gchar *);
