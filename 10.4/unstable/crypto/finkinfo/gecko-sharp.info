Info2: <<
Package: gecko-sharp%type_pkg[gecko]
Version: 2.0
Revision: 1039
Description: Mozilla browser C# bindings
Type: gecko (-firefox1.5 -seamonkey)
License: OSI-Approved
Maintainer: Benjamin Reed <gecko-sharp@fink.racoonfink.com>

Depends: <<
	(%type_raw[gecko] = -firefox1.5) firefox1.5-shlibs,
	(%type_raw[gecko]  = -seamonkey) seamonkey-shlibs,
	gtk-sharp2 (>= 2.10.2-1),
	mono (>= 1.2.3-1)
<<
BuildDepends: <<
	(%type_raw[gecko] = -firefox1.5) firefox1.5-dev,
	(%type_raw[gecko]  = -seamonkey) seamonkey-dev,
	atk1,
	cairo,
	expat1,
	fontconfig2-dev (>= 2.4.2-1),
	freetype219,
	gconf2-dev (>= 2.20.0-1),
	glib2-dev,
	gnome-vfs2-unified-dev,
	gtk+2-dev,
	gtk-sharp2 (>= 2.10.2-1),
	libbonobo2-dev,
	libgettext3-dev,
	libgnome2-dev,
	libgnomeui2-dev,
	libiconv-dev,
	libidl2,
	libjpeg,
	libpng3,
	libxml2,
	mono-dev (>= 1.2.5-1021),
	monodoc (>= 1.2-1021),
	orbit2-dev,
	pango1-xft2-ft219-dev,
	pkgconfig (>= 0.21-1),
	pth2-dev,
	x11-dev,
	xft2-dev
<<
Conflicts: <<
	gecko-sharp (<< 2.0-13),
	gecko-sharp-firefox1.5,
	gecko-sharp-firefox15,
	gecko-sharp-seamonkey
<<
Replaces: <<
	monodoc,
	gecko-sharp,
	gecko-sharp-firefox1.5,
	gecko-sharp-firefox15,
	gecko-sharp-seamonkey
<<

Source: http://go-mono.com/sources/gecko-sharp-%v/gecko-sharp-%v-0.12.tar.gz
Source-MD5: 226470d7be5150f9a8c4d119f61cc385

SetCPPFLAGS: -I%p/include
SetLIBS: -L%p/lib
SetMAKEFLAGS: -j1
NoSetCPPFLAGS: true
NoSetLDFLAGS: true
NoSetMAKEFLAGS: true
ConfigureParams: --mandir=%p/share/man --disable-dependency-tracking PKG_CONFIG_PATH="%p/lib/pango-ft219/lib/pkgconfig:%p/lib/fontconfig2/lib/pkgconfig:%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH" FREETYPE_CONFIG=%p/lib/freetype219/bin/freetype-config
CompileScript: <<
#!/bin/sh -ex

	export lt_cv_sys_max_cmd_len=65536
	perl -pi -e 's/hardcode_direct=yes/hardcode_direct=no/g' configure
	export MONODOC=%p/bin/monodocer
	if [ "%type_raw[gecko]" == "-firefox1.5" ]; then
		MOZILLA_FLAGS="--with-mozilla-headers=%p/include/firefox1.5 --with-mozilla-libs=%p/lib/firefox1.5"
	else
		MOZILLA_FLAGS="--with-mozilla-headers=%p/include/seamonkey --with-mozilla-libs=%p/lib/seamonkey"
	fi
	./configure %c $MOZILLA_FLAGS
	make
<<

InstallScript: <<
#!/bin/sh -ex

	export MONO_PATH="%i/lib:$MONO_PATH"
	MAKEFLAGS=-j1 make install DESTDIR=%d

	find %i/lib/mono -name \*.config -print0 | xargs -0 perl -pi -e 's,target="lib,target="%p/lib/lib,g'
	find %i/lib/mono -name \*.config -print0 | xargs -0 perl -pi -e 's,target="[^"]*libgtkembedmoz[^"]*",target="%p/lib/%type_raw[gecko]/libgtkembedmoz.dylib",'
<<
DocFiles: AUTHORS COPYING* ChangeLog INSTALL LICENSE* NEWS README

PostInstScript: 	[ -x "%p/bin/monodoc" ] && [ -d "%p/lib/monodoc" ] && "%p/bin/monodoc" --make-index >/dev/null 2>&1 || :

Homepage: http://go-mono.com/
DescDetail: <<
This package provides .NET assemblies that allow .NET / C#
programs to embed the Mozilla browser.
<<
<<

