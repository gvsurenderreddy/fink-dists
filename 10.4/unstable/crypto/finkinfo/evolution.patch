diff -uNr evolution-2.12.0/addressbook/gui/contact-editor/e-contact-editor.c evolution-2.12.0-new/addressbook/gui/contact-editor/e-contact-editor.c
--- evolution-2.12.0/addressbook/gui/contact-editor/e-contact-editor.c	2007-09-16 13:52:39.000000000 -0500
+++ evolution-2.12.0-new/addressbook/gui/contact-editor/e-contact-editor.c	2007-09-25 09:16:47.000000000 -0500
@@ -48,6 +48,7 @@
 #include <libebook/e-address-western.h>
 #include <libedataserverui/e-source-option-menu.h>
 
+#include <sys/types.h>
 #include <camel/camel.h>
 
 #include "addressbook/gui/component/addressbook.h"
diff -uNr evolution-2.12.0/calendar/conduits/calendar/Makefile.in evolution-2.12.0-new/calendar/conduits/calendar/Makefile.in
--- evolution-2.12.0/calendar/conduits/calendar/Makefile.in	2007-09-17 01:41:45.000000000 -0500
+++ evolution-2.12.0-new/calendar/conduits/calendar/Makefile.in	2007-09-25 09:24:47.000000000 -0500
@@ -452,14 +452,14 @@
 # Calendar Conduit
 privconduit_LTLIBRARIES = libecalendar_conduit.la
 libecalendar_conduit_la_SOURCES = \
-	calendar-conduit.c
+	calendar-conduit.c \
+	$(srcdir)/../libecalendar-common-conduit.c
 
 libecalendar_conduit_la_LDFLAGS = -module -avoid-version $(NO_UNDEFINED)
 libecalendar_conduit_la_LIBADD = \
 	$(top_builddir)/e-util/libeutil.la				\
 	$(top_builddir)/e-util/libeconduit.la				\
 	$(top_builddir)/widgets/misc/libemiscwidgets.la			\
-	$(top_builddir)/calendar/conduits/common/libecalendar_common_conduit.la	\
 	$(EVOLUTION_CALENDAR_CONDUIT_LIBS)
 
 conduitdir = $(datadir)/gnome-pilot/conduits/
diff -uNr evolution-2.12.0/calendar/conduits/memo/Makefile.in evolution-2.12.0-new/calendar/conduits/memo/Makefile.in
--- evolution-2.12.0/calendar/conduits/memo/Makefile.in	2007-09-17 01:41:46.000000000 -0500
+++ evolution-2.12.0-new/calendar/conduits/memo/Makefile.in	2007-09-25 09:27:38.000000000 -0500
@@ -450,14 +450,14 @@
 # Memo Conduit
 privconduit_LTLIBRARIES = libememo_conduit.la
 libememo_conduit_la_SOURCES = \
-	memo-conduit.c
+	memo-conduit.c \
+	$(srcdir)/../libecalendar-common-conduit.c
 
 libememo_conduit_la_LDFLAGS = -module -avoid-version $(NO_UNDEFINED)
 libememo_conduit_la_LIBADD = \
 	$(top_builddir)/e-util/libeutil.la				\
 	$(top_builddir)/e-util/libeconduit.la				\
 	$(top_builddir)/widgets/misc/libemiscwidgets.la			\
-	$(top_builddir)/calendar/conduits/common/libecalendar_common_conduit.la	\
 	$(EVOLUTION_CALENDAR_CONDUIT_LIBS)
 
 conduitdir = $(datadir)/gnome-pilot/conduits/
diff -uNr evolution-2.12.0/calendar/conduits/todo/Makefile.in evolution-2.12.0-new/calendar/conduits/todo/Makefile.in
--- evolution-2.12.0/calendar/conduits/todo/Makefile.in	2007-09-17 01:41:46.000000000 -0500
+++ evolution-2.12.0-new/calendar/conduits/todo/Makefile.in	2007-09-25 09:28:11.000000000 -0500
@@ -450,14 +450,14 @@
 # ToDo Conduit
 privconduit_LTLIBRARIES = libetodo_conduit.la
 libetodo_conduit_la_SOURCES = \
-	todo-conduit.c
+	todo-conduit.c \
+	$(srcdir)/../libecalendar-common-conduit.c
 
 libetodo_conduit_la_LDFLAGS = -module -avoid-version $(NO_UNDEFINED)
 libetodo_conduit_la_LIBADD = \
 	$(top_builddir)/e-util/libeutil.la				\
 	$(top_builddir)/e-util/libeconduit.la				\
 	$(top_builddir)/widgets/misc/libemiscwidgets.la			\
-	$(top_builddir)/calendar/conduits/common/libecalendar_common_conduit.la	\
 	$(EVOLUTION_CALENDAR_CONDUIT_LIBS)
 
 conduitdir = $(datadir)/gnome-pilot/conduits/
diff -uNr evolution-2.12.0/composer/e-msg-composer-hdrs.c evolution-2.12.0-new/composer/e-msg-composer-hdrs.c
--- evolution-2.12.0/composer/e-msg-composer-hdrs.c	2007-09-16 14:18:00.000000000 -0500
+++ evolution-2.12.0-new/composer/e-msg-composer-hdrs.c	2007-09-25 09:16:47.000000000 -0500
@@ -58,6 +58,7 @@
 #include "e-util/e-error.h"
 #include "e-util/e-icon-factory.h"
 
+#include <sys/types.h>
 #include <camel/camel.h>
 #include <camel/camel-store.h>
 #include <camel/camel-session.h>
diff -uNr evolution-2.12.0/configure evolution-2.12.0-new/configure
--- evolution-2.12.0/configure	2007-09-17 01:41:38.000000000 -0500
+++ evolution-2.12.0-new/configure	2007-09-25 09:16:47.000000000 -0500
@@ -13806,7 +13806,7 @@
 dynamic_linker="$host_os ld.so"
 sys_lib_dlsearch_path_spec="/lib /usr/lib"
 if test "$GCC" = yes; then
-  sys_lib_search_path_spec=`$CC -print-search-dirs | grep "^libraries:" | $SED -e "s/^libraries://" -e "s,=/,/,g"`
+  sys_lib_search_path_spec=$(echo $(for f in `$CC -print-search-dirs|egrep "^libraries:"|sed -e "s,.*=,," -e "s,$PATH_SEPARATOR, ,g" -e "s,$, /lib /usr/lib /usr/local/lib,"`; do cd $f 2>/dev/null && pwd || : ; done|uniq))
   if echo "$sys_lib_search_path_spec" | grep ';' >/dev/null ; then
     # if the path contains ";" then we assume it to be the separator
     # otherwise default to the standard path separator (i.e. ":") - it is
@@ -13977,7 +13977,7 @@
   shrext_cmds='`test .$module = .yes && echo .so || echo .dylib`'
   # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
   if test "$GCC" = yes; then
-    sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+    sys_lib_search_path_spec=$(echo $(for f in `$CC -print-search-dirs|egrep "^libraries:"|sed -e "s,.*=,," -e "s,$PATH_SEPARATOR, ,g" -e "s,$, /lib /usr/lib /usr/local/lib,"`; do cd $f 2>/dev/null && pwd || : ; done|uniq))
   else
     sys_lib_search_path_spec='/lib /usr/lib /usr/local/lib'
   fi
@@ -17890,7 +17890,7 @@
 dynamic_linker="$host_os ld.so"
 sys_lib_dlsearch_path_spec="/lib /usr/lib"
 if test "$GCC" = yes; then
-  sys_lib_search_path_spec=`$CC -print-search-dirs | grep "^libraries:" | $SED -e "s/^libraries://" -e "s,=/,/,g"`
+  sys_lib_search_path_spec=$(echo $(for f in `$CC -print-search-dirs|egrep "^libraries:"|sed -e "s,.*=,," -e "s,$PATH_SEPARATOR, ,g" -e "s,$, /lib /usr/lib /usr/local/lib,"`; do cd $f 2>/dev/null && pwd || : ; done|uniq))
   if echo "$sys_lib_search_path_spec" | grep ';' >/dev/null ; then
     # if the path contains ";" then we assume it to be the separator
     # otherwise default to the standard path separator (i.e. ":") - it is
@@ -18061,7 +18061,7 @@
   shrext_cmds='`test .$module = .yes && echo .so || echo .dylib`'
   # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
   if test "$GCC" = yes; then
-    sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+    sys_lib_search_path_spec=$(echo $(for f in `$CC -print-search-dirs|egrep "^libraries:"|sed -e "s,.*=,," -e "s,$PATH_SEPARATOR, ,g" -e "s,$, /lib /usr/lib /usr/local/lib,"`; do cd $f 2>/dev/null && pwd || : ; done|uniq))
   else
     sys_lib_search_path_spec='/lib /usr/lib /usr/local/lib'
   fi
@@ -20526,7 +20526,7 @@
 dynamic_linker="$host_os ld.so"
 sys_lib_dlsearch_path_spec="/lib /usr/lib"
 if test "$GCC" = yes; then
-  sys_lib_search_path_spec=`$CC -print-search-dirs | grep "^libraries:" | $SED -e "s/^libraries://" -e "s,=/,/,g"`
+  sys_lib_search_path_spec=$(echo $(for f in `$CC -print-search-dirs|egrep "^libraries:"|sed -e "s,.*=,," -e "s,$PATH_SEPARATOR, ,g" -e "s,$, /lib /usr/lib /usr/local/lib,"`; do cd $f 2>/dev/null && pwd || : ; done|uniq))
   if echo "$sys_lib_search_path_spec" | grep ';' >/dev/null ; then
     # if the path contains ";" then we assume it to be the separator
     # otherwise default to the standard path separator (i.e. ":") - it is
@@ -20697,7 +20697,7 @@
   shrext_cmds='`test .$module = .yes && echo .so || echo .dylib`'
   # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
   if test "$GCC" = yes; then
-    sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+    sys_lib_search_path_spec=$(echo $(for f in `$CC -print-search-dirs|egrep "^libraries:"|sed -e "s,.*=,," -e "s,$PATH_SEPARATOR, ,g" -e "s,$, /lib /usr/lib /usr/local/lib,"`; do cd $f 2>/dev/null && pwd || : ; done|uniq))
   else
     sys_lib_search_path_spec='/lib /usr/lib /usr/local/lib'
   fi
@@ -23169,7 +23169,7 @@
 dynamic_linker="$host_os ld.so"
 sys_lib_dlsearch_path_spec="/lib /usr/lib"
 if test "$GCC" = yes; then
-  sys_lib_search_path_spec=`$CC -print-search-dirs | grep "^libraries:" | $SED -e "s/^libraries://" -e "s,=/,/,g"`
+  sys_lib_search_path_spec=$(echo $(for f in `$CC -print-search-dirs|egrep "^libraries:"|sed -e "s,.*=,," -e "s,$PATH_SEPARATOR, ,g" -e "s,$, /lib /usr/lib /usr/local/lib,"`; do cd $f 2>/dev/null && pwd || : ; done|uniq))
   if echo "$sys_lib_search_path_spec" | grep ';' >/dev/null ; then
     # if the path contains ";" then we assume it to be the separator
     # otherwise default to the standard path separator (i.e. ":") - it is
@@ -23340,7 +23340,7 @@
   shrext_cmds='`test .$module = .yes && echo .so || echo .dylib`'
   # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
   if test "$GCC" = yes; then
-    sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+    sys_lib_search_path_spec=$(echo $(for f in `$CC -print-search-dirs|egrep "^libraries:"|sed -e "s,.*=,," -e "s,$PATH_SEPARATOR, ,g" -e "s,$, /lib /usr/lib /usr/local/lib,"`; do cd $f 2>/dev/null && pwd || : ; done|uniq))
   else
     sys_lib_search_path_spec='/lib /usr/lib /usr/local/lib'
   fi
diff -uNr evolution-2.12.0/mail/em-folder-browser.c evolution-2.12.0-new/mail/em-folder-browser.c
--- evolution-2.12.0/mail/em-folder-browser.c	2007-09-16 14:17:46.000000000 -0500
+++ evolution-2.12.0-new/mail/em-folder-browser.c	2007-09-25 09:16:47.000000000 -0500
@@ -99,7 +99,7 @@
 #include "evolution-shell-component-utils.h" /* Pixmap stuff, sigh */
 
 extern CamelSession *session;
-CamelStore *vfolder_store; /* the 1 static vfolder store */
+extern CamelStore *vfolder_store; /* the static vfolder store comes from mail-vfolder.c */
 
 #define d(x)
 
diff -uNr evolution-2.12.0/mail/mail-session.c evolution-2.12.0-new/mail/mail-session.c
--- evolution-2.12.0/mail/mail-session.c	2007-09-16 14:17:46.000000000 -0500
+++ evolution-2.12.0-new/mail/mail-session.c	2007-09-25 09:16:47.000000000 -0500
@@ -37,6 +37,7 @@
 #include <libedataserverui/e-passwords.h>
 #include <libedataserver/e-msgport.h>
 
+#include <sys/types.h>
 #include <camel/camel.h>	/* FIXME: this is where camel_init is defined, it shouldn't include everything else */
 #include <camel/camel-filter-driver.h>
 #include <camel/camel-i18n.h>
diff -uNr evolution-2.12.0/plugins/calendar-weather/Makefile.in evolution-2.12.0-new/plugins/calendar-weather/Makefile.in
--- evolution-2.12.0/plugins/calendar-weather/Makefile.in	2007-09-17 01:41:58.000000000 -0500
+++ evolution-2.12.0-new/plugins/calendar-weather/Makefile.in	2007-09-25 09:16:47.000000000 -0500
@@ -59,7 +59,7 @@
 LTLIBRARIES = $(plugin_LTLIBRARIES)
 am__DEPENDENCIES_1 =
 liborg_gnome_calendar_weather_la_DEPENDENCIES =  \
-	$(top_builddir)/calendar/gui/libevolution-calendar.la \
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la \
 	$(am__DEPENDENCIES_1)
 am_liborg_gnome_calendar_weather_la_OBJECTS = calendar-weather.lo
 liborg_gnome_calendar_weather_la_OBJECTS =  \
@@ -461,7 +461,7 @@
 liborg_gnome_calendar_weather_la_SOURCES = calendar-weather.c
 liborg_gnome_calendar_weather_la_LDFLAGS = -module -avoid-version $(NO_UNDEFINED)
 liborg_gnome_calendar_weather_la_LIBADD = \
-	$(top_builddir)/calendar/gui/libevolution-calendar.la	\
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la	\
 	$(EVOLUTION_CALENDAR_LIBS)
 
 EXTRA_DIST = \
diff -uNr evolution-2.12.0/plugins/exchange-operations/Makefile.in evolution-2.12.0-new/plugins/exchange-operations/Makefile.in
--- evolution-2.12.0/plugins/exchange-operations/Makefile.in	2007-09-17 01:41:59.000000000 -0500
+++ evolution-2.12.0-new/plugins/exchange-operations/Makefile.in	2007-09-25 09:16:47.000000000 -0500
@@ -61,8 +61,7 @@
 liborg_gnome_exchange_operations_la_DEPENDENCIES =  \
 	$(top_builddir)/e-util/libeutil.la \
 	$(top_builddir)/widgets/misc/libemiscwidgets.la \
-	$(top_builddir)/calendar/gui/libevolution-calendar.la \
-	$(top_builddir)/mail/libevolution-mail.la \
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la \
 	$(top_builddir)/addressbook/gui/component/libevolution-addressbook.la \
 	$(am__DEPENDENCIES_1)
 am_liborg_gnome_exchange_operations_la_OBJECTS =  \
@@ -499,8 +498,7 @@
 liborg_gnome_exchange_operations_la_LIBADD = \
 	$(top_builddir)/e-util/libeutil.la 			\
 	$(top_builddir)/widgets/misc/libemiscwidgets.la		\
-	$(top_builddir)/calendar/gui/libevolution-calendar.la 	\
-	$(top_builddir)/mail/libevolution-mail.la 		\
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la 	\
 	$(top_builddir)/addressbook/gui/component/libevolution-addressbook.la \
 	$(CAMEL_EXCHANGE_LIBS)
 
diff -uNr evolution-2.12.0/plugins/face/Makefile.in evolution-2.12.0-new/plugins/face/Makefile.in
--- evolution-2.12.0/plugins/face/Makefile.in	2007-09-17 01:41:59.000000000 -0500
+++ evolution-2.12.0-new/plugins/face/Makefile.in	2007-09-25 09:49:30.000000000 -0500
@@ -460,7 +460,7 @@
 liborg_gnome_face_la_LIBADD = \
 	$(top_builddir)/e-util/libeutil.la 			\
 	$(top_builddir)/widgets/misc/libemiscwidgets.la		\
-	$(top_builddir)/mail/libevolution-mail.la 		\
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la \
 	$(EVOLUTION_MAIL_LIBS)					\
 	$(NO_UNDEFINED_REQUIRED_LIBS)				
 
diff -uNr evolution-2.12.0/plugins/groupwise-features/Makefile.in evolution-2.12.0-new/plugins/groupwise-features/Makefile.in
--- evolution-2.12.0/plugins/groupwise-features/Makefile.in	2007-09-17 01:42:00.000000000 -0500
+++ evolution-2.12.0-new/plugins/groupwise-features/Makefile.in	2007-09-25 09:16:47.000000000 -0500
@@ -62,7 +62,7 @@
 am__DEPENDENCIES_2 =
 liborg_gnome_groupwise_features_la_DEPENDENCIES =  \
 	$(top_builddir)/e-util/libeutil.la \
-	$(top_builddir)/calendar/gui/libevolution-calendar.la \
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la \
 	$(top_builddir)/widgets/misc/libemiscwidgets.la \
 	$(top_builddir)/filter/libfilter.la $(am__DEPENDENCIES_1) \
 	$(am__DEPENDENCIES_2) $(am__DEPENDENCIES_2) \
@@ -488,7 +488,7 @@
 
 liborg_gnome_groupwise_features_la_LIBADD = \
 	$(top_builddir)/e-util/libeutil.la			\
-	$(top_builddir)/calendar/gui/libevolution-calendar.la	\
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la	\
 	$(top_builddir)/widgets/misc/libemiscwidgets.la		\
 	$(top_builddir)/filter/libfilter.la			\
 	$(NO_UNDEFINED_REQUIRED_LIBS)				\
diff -uNr evolution-2.12.0/plugins/import-ics-attachments/Makefile.in evolution-2.12.0-new/plugins/import-ics-attachments/Makefile.in
--- evolution-2.12.0/plugins/import-ics-attachments/Makefile.in	2007-09-17 01:42:00.000000000 -0500
+++ evolution-2.12.0-new/plugins/import-ics-attachments/Makefile.in	2007-09-25 09:16:47.000000000 -0500
@@ -59,7 +59,6 @@
 am__DEPENDENCIES_1 =
 liborg_gnome_evolution_mail_attachments_import_ics_la_DEPENDENCIES =  \
 	$(top_builddir)/e-util/libeutil.la \
-	$(top_builddir)/mail/libevolution-mail.la \
 	$(am__DEPENDENCIES_1)
 am_liborg_gnome_evolution_mail_attachments_import_ics_la_OBJECTS =  \
 	icsimporter.lo
@@ -458,7 +457,6 @@
 liborg_gnome_evolution_mail_attachments_import_ics_la_LDFLAGS = -module -avoid-version $(NO_UNDEFINED)
 liborg_gnome_evolution_mail_attachments_import_ics_la_LIBADD = \
 	$(top_builddir)/e-util/libeutil.la		\
-	$(top_builddir)/mail/libevolution-mail.la	\
 	$(EVOLUTION_MAIL_LIBS)
 
 EXTRA_DIST = org-gnome-evolution-mail-attachments-import-ics.eplug.xml
diff -uNr evolution-2.12.0/plugins/itip-formatter/Makefile.in evolution-2.12.0-new/plugins/itip-formatter/Makefile.in
--- evolution-2.12.0/plugins/itip-formatter/Makefile.in	2007-09-17 01:42:01.000000000 -0500
+++ evolution-2.12.0-new/plugins/itip-formatter/Makefile.in	2007-09-25 09:16:47.000000000 -0500
@@ -60,8 +60,7 @@
 am__DEPENDENCIES_1 =
 liborg_gnome_itip_formatter_la_DEPENDENCIES =  \
 	$(top_builddir)/e-util/libeutil.la \
-	$(top_builddir)/calendar/gui/libevolution-calendar.la \
-	$(top_builddir)/mail/libevolution-mail.la \
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la \
 	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1)
 am_liborg_gnome_itip_formatter_la_OBJECTS = itip-formatter.lo \
 	itip-view.lo
@@ -451,8 +450,7 @@
 liborg_gnome_itip_formatter_la_LDFLAGS = -module -avoid-version $(NO_UNDEFINED)
 liborg_gnome_itip_formatter_la_LIBADD = \
 	$(top_builddir)/e-util/libeutil.la			\
-	$(top_builddir)/calendar/gui/libevolution-calendar.la	\
-	$(top_builddir)/mail/libevolution-mail.la		\
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la	\
 	$(CAMEL_LIBS)						\
 	$(EVOLUTION_CALENDAR_LIBS)
 
diff -uNr evolution-2.12.0/plugins/mail-account-disable/Makefile.in evolution-2.12.0-new/plugins/mail-account-disable/Makefile.in
--- evolution-2.12.0/plugins/mail-account-disable/Makefile.in	2007-09-17 01:42:01.000000000 -0500
+++ evolution-2.12.0-new/plugins/mail-account-disable/Makefile.in	2007-09-25 09:16:47.000000000 -0500
@@ -59,7 +59,6 @@
 am__DEPENDENCIES_1 =
 libmail_account_disable_la_DEPENDENCIES =  \
 	$(top_builddir)/e-util/libeutil.la \
-	$(top_builddir)/mail/libevolution-mail.la \
 	$(am__DEPENDENCIES_1)
 am_libmail_account_disable_la_OBJECTS = mail-account-disable.lo
 libmail_account_disable_la_OBJECTS =  \
@@ -447,7 +446,6 @@
 libmail_account_disable_la_SOURCES = mail-account-disable.c
 libmail_account_disable_la_LDFLAGS = -module -avoid-version $(NO_UNDEFINED)
 libmail_account_disable_la_LIBADD = $(top_builddir)/e-util/libeutil.la		\
-	$(top_builddir)/mail/libevolution-mail.la	\
 	$(EVOLUTION_MAIL_LIBS)
 
 EXTRA_DIST = org-gnome-mail-account-disable.eplug.xml
diff -uNr evolution-2.12.0/plugins/mark-all-read/Makefile.in evolution-2.12.0-new/plugins/mark-all-read/Makefile.in
--- evolution-2.12.0/plugins/mark-all-read/Makefile.in	2007-09-17 01:42:03.000000000 -0500
+++ evolution-2.12.0-new/plugins/mark-all-read/Makefile.in	2007-09-25 09:16:47.000000000 -0500
@@ -59,7 +59,6 @@
 am__DEPENDENCIES_1 =
 liborg_gnome_mark_all_read_la_DEPENDENCIES =  \
 	$(top_builddir)/e-util/libeutil.la \
-	$(top_builddir)/mail/libevolution-mail.la \
 	$(am__DEPENDENCIES_1)
 am_liborg_gnome_mark_all_read_la_OBJECTS = mark-all-read.lo
 liborg_gnome_mark_all_read_la_OBJECTS =  \
@@ -447,7 +446,6 @@
 liborg_gnome_mark_all_read_la_LDFLAGS = -module -avoid-version $(NO_UNDEFINED)
 liborg_gnome_mark_all_read_la_LIBADD = \
 	$(top_builddir)/e-util/libeutil.la		\
-	$(top_builddir)/mail/libevolution-mail.la	\
 	$(EVOLUTION_MAIL_LIBS)
 
 EXTRA_DIST = org-gnome-mark-all-read.eplug.xml
diff -uNr evolution-2.12.0/plugins/print-message/Makefile.in evolution-2.12.0-new/plugins/print-message/Makefile.in
--- evolution-2.12.0/plugins/print-message/Makefile.in	2007-09-17 01:42:04.000000000 -0500
+++ evolution-2.12.0-new/plugins/print-message/Makefile.in	2007-09-25 09:16:47.000000000 -0500
@@ -59,7 +59,6 @@
 am__DEPENDENCIES_1 =
 liborg_gnome_print_message_la_DEPENDENCIES =  \
 	$(top_builddir)/e-util/libeutil.la \
-	$(top_builddir)/mail/libevolution-mail.la \
 	$(am__DEPENDENCIES_1)
 am_liborg_gnome_print_message_la_OBJECTS = print-message.lo
 liborg_gnome_print_message_la_OBJECTS =  \
@@ -447,7 +446,6 @@
 liborg_gnome_print_message_la_LDFLAGS = -module -avoid-version $(NO_UNDEFINED)
 liborg_gnome_print_message_la_LIBADD = \
 	$(top_builddir)/e-util/libeutil.la		\
-	$(top_builddir)/mail/libevolution-mail.la	\
 	$(EVOLUTION_MAIL_LIBS)
 
 EXTRA_DIST = \
diff -uNr evolution-2.12.0/plugins/publish-calendar/Makefile.in evolution-2.12.0-new/plugins/publish-calendar/Makefile.in
--- evolution-2.12.0/plugins/publish-calendar/Makefile.in	2007-09-17 01:42:04.000000000 -0500
+++ evolution-2.12.0-new/plugins/publish-calendar/Makefile.in	2007-09-25 09:16:47.000000000 -0500
@@ -60,7 +60,7 @@
 am__DEPENDENCIES_1 =
 liborg_gnome_publish_calendar_la_DEPENDENCIES =  \
 	$(top_builddir)/e-util/libeutil.la \
-	$(top_builddir)/calendar/gui/libevolution-calendar.la \
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la \
 	$(am__DEPENDENCIES_1)
 am_liborg_gnome_publish_calendar_la_OBJECTS = publish-calendar.lo \
 	publish-format-fb.lo publish-format-ical.lo \
@@ -469,7 +469,7 @@
 liborg_gnome_publish_calendar_la_LDFLAGS = -module -avoid-version $(NO_UNDEFINED)
 liborg_gnome_publish_calendar_la_LIBADD = \
 	$(top_builddir)/e-util/libeutil.la			\
-	$(top_builddir)/calendar/gui/libevolution-calendar.la	\
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la	\
 	$(EVOLUTION_CALENDAR_LIBS)
 
 EXTRA_DIST = \
diff -uNr evolution-2.12.0/plugins/startup-wizard/Makefile.in evolution-2.12.0-new/plugins/startup-wizard/Makefile.in
--- evolution-2.12.0/plugins/startup-wizard/Makefile.in	2007-09-17 01:42:06.000000000 -0500
+++ evolution-2.12.0-new/plugins/startup-wizard/Makefile.in	2007-09-25 09:16:47.000000000 -0500
@@ -61,8 +61,7 @@
 	$(top_builddir)/e-util/libeutil.la \
 	$(top_builddir)/widgets/e-timezone-dialog/libetimezonedialog.la \
 	$(top_builddir)/widgets/misc/libemiscwidgets.la \
-	$(top_builddir)/calendar/gui/libevolution-calendar.la \
-	$(top_builddir)/mail/libevolution-mail.la \
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la \
 	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1)
 am_liborg_gnome_evolution_startup_wizard_la_OBJECTS =  \
 	startup-wizard.lo
@@ -454,8 +453,7 @@
 	$(top_builddir)/e-util/libeutil.la				\
 	$(top_builddir)/widgets/e-timezone-dialog/libetimezonedialog.la	\
 	$(top_builddir)/widgets/misc/libemiscwidgets.la			\
-	$(top_builddir)/calendar/gui/libevolution-calendar.la		\
-	$(top_builddir)/mail/libevolution-mail.la			\
+	$(top_builddir)/calendar/common/libevolution-calendarprivate.la		\
 	$(EVOLUTION_CALENDAR_LIBS)					\
 	$(EVOLUTION_MAIL_LIBS)
 
diff -uNr evolution-2.12.0/widgets/misc/e-attachment.c evolution-2.12.0-new/widgets/misc/e-attachment.c
--- evolution-2.12.0/widgets/misc/e-attachment.c	2007-09-16 14:33:23.000000000 -0500
+++ evolution-2.12.0-new/widgets/misc/e-attachment.c	2007-09-25 09:16:47.000000000 -0500
@@ -45,6 +45,7 @@
 #include <string.h>
 #include <errno.h>
 
+#include <sys/types.h>
 #include <camel/camel.h>
 #include <gtk/gtk.h>
 #include <gtk/gtknotebook.h>
