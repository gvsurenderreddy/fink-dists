Package: libgda
Version: 3.1.2
Revision: 2
BuildDepends: <<
	avahi-dev,
	gettext-bin,
	gettext-tools,
	dbus-dev,
	fink (>= 0.24.12-1),
	gconf2-dev (>= 2.20.1-1),
	glib2-dev (>= 2.14.0-1),
	intltool (>= 0.36.0-1),
	libavahi-glib1-dev,
	libgcrypt,
	libgettext3-dev,
	libgpg-error,
	libiconv-dev,
	libncurses5,
	libxml2 (>= 2.6.30-1),
	libxslt (>= 1.1.22-1),
	orbit2-dev (>= 2.14.10-1),
	pkgconfig (>= 0.21-1),
	pth2-dev,
	readline5,
	sqlite3-dev (>= 3.4.2-1002)
<<
Depends: <<
	%N4-shlibs (= %v-%r),
	libncurses5-shlibs,
	readline5-shlibs,
	scrollkeeper
<<
Source: mirror:gnome:sources/%n/3.1/%n-%v.tar.bz2
Source-MD5: fe299d264ddeb7fbc36276f74f1abfdc
PatchFile: %n.patch
PatchFile-MD5: c1f6e1c3d38830e544afe4e8e3128ad9
ConfigureParams: <<
	--mandir='%p/share/man' \
	--disable-gtk-doc \
	PERL=/usr/bin/perl \
	--without-bdb --without-odbc --without-mysql --without-mSQL --without-postgres --without-tds --without-ibmdb2 --without-sybase --without-oracle --without-firebird --without-xbase --without-mdb --without-ldap \
	--disable-dependency-tracking
<<
InfoTest: <<
	TestDepends: check
	TestScript: make check || exit 2
<<
InstallScript: make -j1 install DESTDIR=%d
SplitOff: <<
	Package: %N4-shlibs
	Depends: <<
		dbus-shlibs,
		gconf2-shlibs (>= 2.20.1-1),
		glib2-shlibs (>= 2.14.0-1),
		gnome-vfs2-unified-shlibs (>= 2.20.1-1),
		libavahi-client3-shlibs,
		libavahi-common3-shlibs,
		libavahi-glib1-shlibs,
		libgcrypt-shlibs,
		libgettext3-shlibs,
		libgpg-error-shlibs,
		libiconv,
		libxml2-shlibs (>= 2.6.30-1),
		libxslt-shlibs (>= 1.1.22-1),
		orbit2-shlibs (>= 2.14.10-1),
		pth2-shlibs,
		sqlite3-shlibs (>= 3.4.2-1002)
	<<
	Replaces: %N, %N-shlibs
	Files: <<
		lib/libgda*-3.0.*.dylib
		lib/libgda-3.0/providers/*.so
		share/locale
	<<
	Shlibs: <<
		%p/lib/libgda-3.0.3.dylib		4.0.0 %n (>= 3.0.0-1)
		%p/lib/libgda-report-3.0.3.dylib	4.0.0 %n (>= 3.0.0-1)
		%p/lib/libgda-xslt-3.0.0.dylib		1.0.0 %n (>= 3.0.0-1)
		%p/lib/libgdasql-3.0.3.dylib		4.0.0 %n (>= 3.0.0-1)
	<<
	DocFiles: AUTHORS COPYING COPYING.LIB ChangeLog NEWS README
	Description: Shared libraries for libgda package
<<
SplitOff2: <<
	Package: %N4-dev
	Depends: %N (= %v-%r), scrollkeeper
	Conflicts: %N-dev, %N3-dev
	Replaces: %N-dev, %N3-dev
	BuildDependsOnly: True
	Files: <<
		include
		lib
		share/gtk-doc
	<<
	DocFiles: AUTHORS COPYING COPYING.LIB ChangeLog NEWS README
	Description: Developer files for libgda package
	PostInstScript: <<
		if [ configure = "$1" ]; then
			scrollkeeper-update
		fi
	<<
	PostRmScript: <<
		if [ remove = "$1" ]; then
			scrollkeeper-update
		fi
	<<
<<
DocFiles: AUTHORS COPYING COPYING.LIB ChangeLog NEWS README
DescPackaging: <<
	In section:crypto b/c libgcrypt. That lib is auto-detected,
	but package seems to be buildable without it (could force
	non-detection and get into section:gnome?)...lose non-critical
	functionality? Conversely, could implement needed libgcrypt
	algos internally (md5 is not crypto). See:
	http://bugzilla.gnome.org/show_bug.cgi?id=513019
<<
DescPort: <<
	Try to make sure local libs are linked first: very important
	since there are wrappers that need to intercept some function
	calls. NB: still not fixed.
<<
Description: Uniform access to various data sources
License: GPL/LGPL
Maintainer: The Gnome Core Team <fink-gnome-core@lists.sourceforge.net>
Homepage: http://www.gnome-db.org
