Package: gnome-sharp2
Version: 2.16.0
Revision: 1021
Description: .Net interface to GNOME
License: LGPL
Maintainer: Benjamin Reed <gnome-sharp2fink.racoonfink.com>

Depends: <<
	atk1-shlibs (>= 1.20.0-1),
	freetype219-shlibs,
	gconf2-shlibs,
	gdk-pixbuf-shlibs,
	glib2-shlibs (>= 2.14.0-1),
	gnome-panel-shlibs,
	gnome-vfs2-unified-shlibs,
	gtk+2-shlibs (>= 2.12.0-1),
	gtkhtml3.14-shlibs,
	libart2-shlibs (>= 2.3.19-1),
	libbonobo2-shlibs (>= 2.20.0-1),
	libbonoboui2-shlibs (>= 2.20.0-1),
	libgettext3-shlibs,
	libglade2-shlibs (>= 2.6.0-1),
	libgnome2-shlibs,
	libgnomecanvas2-shlibs (>= 2.20.0-1),
	libgnomeprint2.2-shlibs (>= 2.18.1-1),
	libgnomeprintui2.2-shlibs (>= 2.18.1-1),
	libgnomeui2-shlibs (>= 2.20.0-1),
	libiconv,
	libxml2-shlibs,
	mono (>= 1.1.17-1),
	orbit2-shlibs (>= 2.14.9-1),
	pango1-xft2-ft219-shlibs,
	popt-shlibs,
	vte
<<
BuildDepends: <<
	atk1 (>= 1.20.0-1),
	audiofile,
	dbus-dev (>= 1.0-1),
	fontconfig2-dev,
	freetype219,
	gconf2-dev,
	gdk-pixbuf,
	glib2-dev,
	gnome-keyring-dev,
	gnome-panel-dev,
	gnome-vfs2-unified-dev,
	gtk+2-dev (>= 2.12.0-1),
	gtkhtml3.14-dev,
	libart2 (>= 2.3.19-1),
	libbonobo2-dev (>= 2.20.0-1),
	libbonoboui2-dev (>= 2.20.0-1),
	libcroco3,
	libgettext3-dev,
	libgda3-dev,
	libglade2 (>= 2.6.0-1),
	libgnome2-dev (>= 2.20.0-1),
	libgnomeui2-dev (>= 2.20.0-1),
	libgnomecanvas2-dev (>= 2.20.0-1),
	libgnomedb3-dev,
	libgnomeprint2.2-dev (>= 2.18.1-1),
	libgnomeprintui2.2-dev (>= 2.18.1-1),
	libgsf-dev,
	libidl2 (>= 0.8.9-1),
	libjpeg,
	librsvg2 (>= 2.18.2-1),
	mono-dev (>= 1.2.5-1021),
	orbit2-dev (>= 2.14.9-1),
	pango1-xft2-ft219-dev,
	pkgconfig,
	popt,
	vte9-dev
<<

Source: http://go-mono.com/sources/%n/gnome-sharp-%v.tar.gz
Source-MD5: 7cdd61dfc7ae748accbb45cbd6ed4982
PatchScript: perl -pi -e 's,gtkhtml-3.8,gtkhtml-3.14,g' configure

SetMAKEFLAGS: -j1
NoSetMAKEFLAGS: true
ConfigureParams: --mandir=%p/share/man --disable-static --disable-dependency-tracking
CompileScript: <<
#!/bin/sh -ex

	export ac_cv_path_MONODOCER=no lt_cv_sys_max_cmd_len=65536 CPPFLAGS="-I%p/lib/freetype219/include $CPPFLAGS" PKG_CONFIG_PATH="%p/lib/freetype219/lib/pkgconfig:%p/lib/pango-ft219/lib/pkgconfig:$PKG_CONFIG_PATH" PATH="%p/lib/freetype219/bin:$PATH"
	./configure %c
	make
<<

InstallScript: <<
#!/bin/sh -ex

	export MONO_PATH="%i/lib:$MONO_PATH"
	make -j1 install DESTDIR=%d

	find %i/lib/mono -name \*.config -print0 | xargs -0 perl -pi -e 's,target="libgnomevfs,target="%p/lib/gnome-vfs2.16/libgnomevfs,'
	find %i/lib/mono -name \*.config -print0 | xargs -0 perl -pi -e 's,target="lib,target="%p/lib/lib,g'

	install -d -m 755 %i/share/%n/sample
	cp -R sample/* %i/share/%n/sample/
<<
DocFiles: AUTHORS COPYING ChangeLog* NEWS README*

Homepage: http://go-mono.com/

